{"ast":null,"code":"import _asyncToGenerator from \"/home/fernando/Documents/tarea/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Categoria } from '../../../modelo/categoria.class';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class GestionCategoriaservice {\n  constructor(http) {\n    this.http = http;\n  }\n\n  agregarcategoria(nombreCategoria) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(nombreCategoria);\n      const nuevacategoria = new Categoria(0, nombreCategoria);\n\n      const promesa = _this.http.post('http://localhost:8080/api/categoria', nuevacategoria).toPromise();\n\n      return promesa.then(value => {\n        return true;\n      }); //this.http.get<Categoria[]>('http://localhost:8080/api/categoria').subscribe((resp:Categoria[])=>{GestionCategoriaservice.categorias=resp});\n    })();\n  }\n\n  eliminarcategoria(eliminacion) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      for (let i = 0; eliminacion.length > i; i++) {\n        const promesa = _this2.http.delete('http://localhost:8080/api/categoria' + '/' + eliminacion[i]).toPromise();\n      }\n    })();\n  }\n\n  get categorias() {\n    return GestionCategoriaservice.categorias;\n  }\n\n  listarCategoria() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      _this3.http.get('http://localhost:8080/api/categoria').subscribe(resp => {\n        GestionCategoriaservice.categorias = resp;\n      });\n    })();\n  }\n\n  actualizarCategoria(codcategoria, nombreCategoria) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      const nuevacategoria = new Categoria(codcategoria, nombreCategoria);\n\n      const promesa = _this4.http.put('http://127.0.0.1:8080/api/categoria' + '/' + codcategoria, nuevacategoria).toPromise();\n\n      return promesa.then(value => {\n        return true;\n      });\n    })();\n  }\n\n}\nGestionCategoriaservice.categorias = [];\n\nGestionCategoriaservice.ɵfac = function GestionCategoriaservice_Factory(t) {\n  return new (t || GestionCategoriaservice)(i0.ɵɵinject(i1.HttpClient));\n};\n\nGestionCategoriaservice.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: GestionCategoriaservice,\n  factory: GestionCategoriaservice.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/home/fernando/Documents/tarea/src/app/gestion/gestion-categoria-main/services/gestion-categoria.service.ts"],"names":[],"mappings":";AACA,SAAS,SAAT,QAA0B,iCAA1B;;;AASA,OAAM,MAAO,uBAAP,CAA8B;AAChC,EAAA,WAAA,CAAoB,IAApB,EAAmC;AAAf,SAAA,IAAA,GAAA,IAAA;AAAkB;;AAGhC,EAAA,gBAAgB,CAAC,eAAD,EAAuB;AAAA;;AAAA;AACzC,MAAA,OAAO,CAAC,GAAR,CAAY,eAAZ;AACA,YAAM,cAAc,GAAW,IAAI,SAAJ,CAAc,CAAd,EAAgB,eAAhB,CAA/B;;AACA,YAAM,OAAO,GAAG,KAAI,CAAC,IAAL,CAAU,IAAV,CAA0B,qCAA1B,EAAgE,cAAhE,EAAgF,SAAhF,EAAhB;;AACA,aAAO,OAAO,CAAC,IAAR,CAAa,KAAK,IAAG;AAAC,eAAO,IAAP;AAAY,OAAlC,CAAP,CAJyC,CAKzC;AALyC;AAM5C;;AAEK,EAAA,iBAAiB,CAAC,WAAD,EAAqB;AAAA;;AAAA;AACxC,WAAI,IAAI,CAAC,GAAQ,CAAjB,EAAmB,WAAW,CAAC,MAAZ,GAAmB,CAAtC,EAAwC,CAAC,EAAzC,EAA4C;AACxC,cAAM,OAAO,GAAG,MAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,wCAAsC,GAAtC,GAA0C,WAAW,CAAC,CAAD,CAAtE,EAA2E,SAA3E,EAAhB;AAEH;AAJuC;AAM3C;;AAEa,MAAV,UAAU,GAAA;AACV,WAAO,uBAAuB,CAAC,UAA/B;AACH;;AACK,EAAA,eAAe,GAAA;AAAA;;AAAA;AACjB,MAAA,MAAI,CAAC,IAAL,CAAU,GAAV,CAA2B,qCAA3B,EAAkE,SAAlE,CAA6E,IAAD,IAAoB;AAAC,QAAA,uBAAuB,CAAC,UAAxB,GAAmC,IAAnC;AAAwC,OAAzI;AADiB;AAEpB;;AACK,EAAA,mBAAmB,CAAC,YAAD,EAAqB,eAArB,EAA2C;AAAA;;AAAA;AAChE,YAAM,cAAc,GAAW,IAAI,SAAJ,CAAc,YAAd,EAA2B,eAA3B,CAA/B;;AACA,YAAM,OAAO,GAAG,MAAI,CAAC,IAAL,CAAU,GAAV,CAAmB,wCAAwC,GAAxC,GAA8C,YAAjE,EAA+E,cAA/E,EAA+F,SAA/F,EAAhB;;AACA,aAAO,OAAO,CAAC,IAAR,CAAa,KAAK,IAAG;AAAE,eAAO,IAAP;AAAY,OAAnC,CAAP;AAHgE;AAInE;;AA9B+B;AAmBlB,uBAAA,CAAA,UAAA,GAAuB,EAAvB;;;mBAnBL,uB,EAAuB,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,UAAA,C;AAAA,C;;;SAAvB,uB;AAAuB,EAAA,OAAA,EAAvB,uBAAuB,CAAA,I;AAAA,EAAA,UAAA,EAHrB","sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { Categoria } from '../../../modelo/categoria.class';\r\nimport { HttpClient} from '@angular/common/http';\r\nimport { GestionCategoriaMainComponent } from '../gestion-categoria-main.component';\r\n\r\n\r\n@Injectable({\r\n    providedIn:'root'\r\n}\r\n)\r\nexport class GestionCategoriaservice{\r\n    constructor(private http:HttpClient){}\r\n\r\n\r\n    async agregarcategoria(nombreCategoria:String){\r\n        console.log(nombreCategoria)\r\n        const nuevacategoria:Categoria=new Categoria(0,nombreCategoria)\r\n        const promesa = this.http.post<Categoria>('http://localhost:8080/api/categoria',nuevacategoria).toPromise();\r\n        return promesa.then(value =>{return true});\r\n        //this.http.get<Categoria[]>('http://localhost:8080/api/categoria').subscribe((resp:Categoria[])=>{GestionCategoriaservice.categorias=resp});\r\n    }\r\n\r\n    async eliminarcategoria(eliminacion:number[]){\r\n        for(let i:number=0;eliminacion.length>i;i++){\r\n            const promesa = this.http.delete('http://localhost:8080/api/categoria'+'/'+eliminacion[i]).toPromise();\r\n            \r\n        }\r\n        \r\n    }\r\n    public static categorias:Categoria[]=[];\r\n    get categorias(){\r\n        return GestionCategoriaservice.categorias\r\n    }\r\n    async listarCategoria(){\r\n        this.http.get<Categoria[]>('http://localhost:8080/api/categoria').subscribe((resp:Categoria[])=>{GestionCategoriaservice.categorias=resp});\r\n    }\r\n    async actualizarCategoria(codcategoria:number,nombreCategoria:String){\r\n        const nuevacategoria:Categoria=new Categoria(codcategoria,nombreCategoria)\r\n        const promesa = this.http.put<any>('http://127.0.0.1:8080/api/categoria' + '/' + codcategoria, nuevacategoria).toPromise();\r\n        return promesa.then(value => {return true})\r\n    }\r\n}"],"sourceRoot":""},"metadata":{},"sourceType":"module"}